{"ast":null,"code":"var _jsxFileName = \"/media/fari/Works/1-sample-work/spotify/src/App.js\";\nimport React from \"react\";\nimport axios from 'axios';\nimport Aside from \"./components/aside/aside\";\nimport Content from \"./components/content/content\";\nimport Header from \"./components/header/header\";\nimport Footer from \"./components/footer/footer\";\nimport \"./App.scss\";\nimport { specialCharMap } from \"@testing-library/user-event/dist/keyboard\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      title: \"salam\",\n      currentPage: \"home\",\n      searchText: \"\",\n      isLoaded: false,\n      offset: 0,\n      play: {\n        section: '',\n        idx: null,\n        active: false\n      },\n      track: {\n        image: \"arash.jpeg\",\n        trackName: \"harchi_1\",\n        trackUrl: \"harchi_1.mp3\",\n        singerName: \"Arash\"\n      },\n      data: {\n        recently: {\n          id: 1,\n          title: \"Recently played\",\n          tracks: [{\n            image: \"Katy_Perry_Smile.png\",\n            singerName: \"Kety Perry\",\n            albumsName: \"smile\"\n          }, {\n            image: \"arash.jpeg\",\n            singerName: \"Arash\",\n            albumsName: \"harchi\"\n          }, {\n            image: \"alesso.jpeg\",\n            singerName: \"alesso\",\n            albumsName: \"chert\"\n          }]\n        },\n        all: {\n          id: 2,\n          title: \"Tracks list\",\n          tracks: [{\n            image: \"Katy_Perry_Smile.png\",\n            singerName: \"Kety Perry\",\n            albumsName: \"smile\"\n          }, {\n            image: \"arash.jpeg\",\n            singerName: \"Arash\",\n            albumsName: \"harchi\"\n          }, {\n            image: \"alesso.jpeg\",\n            singerName: \"alesso\",\n            albumsName: \"chert\"\n          }, {\n            image: \"rap.jpg\",\n            singerName: \"Adel\",\n            albumsName: \"adel\"\n          }, {\n            image: \"arash.jpeg\",\n            singerName: \"Arash\",\n            albumsName: \"harchi\"\n          }, {\n            image: \"alesso.jpeg\",\n            singerName: \"alesso\",\n            albumsName: \"chert\"\n          }]\n        }\n      }\n    };\n\n    this.handleAsideClick = page => {\n      this.setState({\n        currentPage: page\n      });\n      console.log(page);\n    };\n\n    this.handleSearch = singer => {\n      this.loadAlbums(singer);\n    };\n\n    this.loadTracks = albumId => {\n      const access_token = \"BQAeNOoxz2legi_hzUJVYC8TCkTkfcHawhPB_mPDD_enJjYhg3yp4nvcZzqm39RfOsnYnk7ktUi6LwGlOBgd6sc7Om9OsGLhZ8ONh4DbeiRuJJkqj3fSB4DexW6O6x2Ix9iX_FMFPbARjApvNvXOlsUJY1btWXa2OjE\";\n      const headers = {\n        'Authorization': `Bearer ${access_token}`,\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n      };\n      axios.get(`https://api.spotify.com/v1/albums/${albumId}/tracks`, {\n        headers: headers\n      }).then(res => {\n        console.log(res); // if (res.data) {\n        //   const tracks = res.data.tracks.items;\n        //   console.log(tracks)\n        // }\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.loadAlbums = singer => {\n      const access_token = \"BQAeNOoxz2legi_hzUJVYC8TCkTkfcHawhPB_mPDD_enJjYhg3yp4nvcZzqm39RfOsnYnk7ktUi6LwGlOBgd6sc7Om9OsGLhZ8ONh4DbeiRuJJkqj3fSB4DexW6O6x2Ix9iX_FMFPbARjApvNvXOlsUJY1btWXa2OjE\";\n      const headers = {\n        'Authorization': `Bearer ${access_token}`,\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n      };\n      singer = \"CageThe%20Elephant\";\n      const params = `q=${singer}&type=track&offset=${this.state.offset}&limit=6`;\n      axios.get(`https://api.spotify.com/v1/search?${params}`, {\n        headers: headers\n      }).then(res => {\n        if (res.data) {\n          const tracks = res.data.tracks.items;\n          console.log(tracks);\n          const albumId = tracks[0].id;\n          this.loadTracks(albumId);\n        }\n      }).catch(err => {\n        console.log(err);\n      }); // const recivedData = [\n      //   {\n      //     singer: \"fari 1\",\n      //     track: \"track 1\",\n      //   },\n      //   {\n      //     singer: \"fari 2\",\n      //     track: \"track 2\",\n      //   },\n      // ];\n      // this.setState({\n      //   data: recivedData,\n      // });\n    };\n\n    this.loadMore = () => {\n      this.loadAlbums();\n      return;\n      let newTracks = this.state.tracks;\n      let newData = newTracks.all.data;\n      newData = [...newData, ...newData];\n      newTracks.all.data = newData;\n      this.setState({\n        tracks: newTracks\n      });\n      console.log(\"loadMore: \", newTracks);\n    };\n\n    this.playMusic = (title, idx) => {\n      let newData = { ...this.state.data\n      };\n      let newRecentlyTracks = [...newData.recently.tracks];\n\n      if (title == 'Recently played') {\n        const removedTrack = newRecentlyTracks.splice(idx, 1);\n        newRecentlyTracks = [removedTrack[0], ...newRecentlyTracks];\n      } else if (title == \"Tracks list\") {\n        const selectedTrackFromAll = this.state.data.all.tracks[idx];\n        newRecentlyTracks = [selectedTrackFromAll, ...newRecentlyTracks];\n      }\n\n      let newPlay = { ...this.state.play\n      };\n      let isPlaying = true;\n\n      if (idx === 0 && title === \"Recently played\") {\n        isPlaying = !this.state.data.recently.isPlaying;\n      }\n\n      newPlay.section = title;\n      newPlay.idx = idx;\n      newPlay.active = isPlaying;\n      newRecentlyTracks = newRecentlyTracks.slice(0, 6);\n      newData.recently.tracks = newRecentlyTracks;\n      newData.recently.isPlaying = isPlaying;\n      this.setState({\n        play: newPlay\n      }, () => {\n        console.log(this.state.play);\n      });\n      this.setState({\n        data: newData\n      }, () => {\n        console.log(this.state.play);\n      });\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Aside, {\n        action: this.handleAsideClick\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Header, {\n        page: this.state.currentPage,\n        title: this.state.currentPage,\n        action: this.handleSearch\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Header, {\n        faride: this.state.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Content, {\n        data_app: this.state.data,\n        scroll_app: this.loadMore,\n        playMusic_app: this.playMusic,\n        play_app: this.state.play\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {\n        data: this.state.track\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/media/fari/Works/1-sample-work/spotify/src/App.js"],"names":["React","axios","Aside","Content","Header","Footer","specialCharMap","App","Component","constructor","props","state","title","currentPage","searchText","isLoaded","offset","play","section","idx","active","track","image","trackName","trackUrl","singerName","data","recently","id","tracks","albumsName","all","handleAsideClick","page","setState","console","log","handleSearch","singer","loadAlbums","loadTracks","albumId","access_token","headers","get","then","res","catch","err","params","items","loadMore","newTracks","newData","playMusic","newRecentlyTracks","removedTrack","splice","selectedTrackFromAll","newPlay","isPlaying","slice","render"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport axios from 'axios';\nimport Aside from \"./components/aside/aside\";\nimport Content from \"./components/content/content\";\nimport Header from \"./components/header/header\";\nimport Footer from \"./components/footer/footer\";\n\nimport \"./App.scss\";\nimport { specialCharMap } from \"@testing-library/user-event/dist/keyboard\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  state = {\n    title: \"salam\",\n    currentPage: \"home\",\n    searchText: \"\",\n    isLoaded: false,\n    offset: 0,\n    play: {\n      section: '',\n      idx: null,\n      active: false,\n    },\n    track: {\n      image: \"arash.jpeg\",\n      trackName: \"harchi_1\",\n      trackUrl: \"harchi_1.mp3\",\n      singerName: \"Arash\"\n    },\n    data: {\n      recently: {\n        id: 1,\n        title: \"Recently played\",\n        tracks: [\n          {\n            image: \"Katy_Perry_Smile.png\",\n            singerName: \"Kety Perry\",\n            albumsName: \"smile\",\n          },\n          {\n            image: \"arash.jpeg\",\n            singerName: \"Arash\",\n            albumsName: \"harchi\",\n          },\n          {\n            image: \"alesso.jpeg\",\n            singerName: \"alesso\",\n            albumsName: \"chert\",\n          },\n\n        ]\n      },\n      all: {\n        id: 2,\n        title: \"Tracks list\",\n        tracks: [\n          {\n            image: \"Katy_Perry_Smile.png\",\n            singerName: \"Kety Perry\",\n            albumsName: \"smile\",\n          },\n          {\n            image: \"arash.jpeg\",\n            singerName: \"Arash\",\n            albumsName: \"harchi\",\n          },\n          {\n            image: \"alesso.jpeg\",\n            singerName: \"alesso\",\n            albumsName: \"chert\",\n          },\n          {\n            image: \"rap.jpg\",\n            singerName: \"Adel\",\n            albumsName: \"adel\",\n          },\n          {\n            image: \"arash.jpeg\",\n            singerName: \"Arash\",\n            albumsName: \"harchi\",\n          },\n          {\n            image: \"alesso.jpeg\",\n            singerName: \"alesso\",\n            albumsName: \"chert\",\n          }\n        ]\n      }\n    }\n  };\n\n  handleAsideClick = (page) => {\n    this.setState({\n      currentPage: page,\n    });\n    console.log(page)\n  };\n\n  handleSearch = (singer) => {\n    this.loadAlbums(singer);\n  };\n\n  loadTracks = (albumId) => {\n    const access_token = \"BQAeNOoxz2legi_hzUJVYC8TCkTkfcHawhPB_mPDD_enJjYhg3yp4nvcZzqm39RfOsnYnk7ktUi6LwGlOBgd6sc7Om9OsGLhZ8ONh4DbeiRuJJkqj3fSB4DexW6O6x2Ix9iX_FMFPbARjApvNvXOlsUJY1btWXa2OjE\";\n    const headers = {\n      'Authorization': `Bearer ${access_token}`,\n      'Content-Type': 'application/json',\n      'Accept': 'application/json',\n    };\n\n    axios.get(\n      `https://api.spotify.com/v1/albums/${albumId}/tracks`,\n      { headers: headers }\n    ).then(res => {\n      console.log(res)\n      // if (res.data) {\n      //   const tracks = res.data.tracks.items;\n      //   console.log(tracks)\n      // }\n    }).catch(err => {\n      console.log(err)\n    })\n  }\n\n  loadAlbums = (singer) => {\n    const access_token = \"BQAeNOoxz2legi_hzUJVYC8TCkTkfcHawhPB_mPDD_enJjYhg3yp4nvcZzqm39RfOsnYnk7ktUi6LwGlOBgd6sc7Om9OsGLhZ8ONh4DbeiRuJJkqj3fSB4DexW6O6x2Ix9iX_FMFPbARjApvNvXOlsUJY1btWXa2OjE\";\n    const headers = {\n      'Authorization': `Bearer ${access_token}`,\n      'Content-Type': 'application/json',\n      'Accept': 'application/json',\n    };\n    singer = \"CageThe%20Elephant\";\n    const params = `q=${singer}&type=track&offset=${this.state.offset}&limit=6`;\n\n    axios.get(\n      `https://api.spotify.com/v1/search?${params}`,\n      { headers: headers }\n    ).then(res => {\n      if (res.data) {\n        const tracks = res.data.tracks.items;\n        console.log(tracks);\n        const albumId = tracks[0].id;\n        this.loadTracks(albumId);\n      }\n    }).catch(err => {\n      console.log(err)\n    })\n\n\n    // const recivedData = [\n    //   {\n    //     singer: \"fari 1\",\n    //     track: \"track 1\",\n    //   },\n    //   {\n    //     singer: \"fari 2\",\n    //     track: \"track 2\",\n    //   },\n    // ];\n\n    // this.setState({\n    //   data: recivedData,\n    // });\n  };\n\n  loadMore = () => {\n    this.loadAlbums();\n    return\n\n    let newTracks = this.state.tracks;\n    let newData = newTracks.all.data;\n    newData = [...newData, ...newData];\n    newTracks.all.data = newData;\n\n    this.setState({\n      tracks: newTracks,\n    });\n\n    console.log(\"loadMore: \", newTracks)\n  }\n\n  playMusic = (title, idx) => {\n    let newData = { ...this.state.data };\n    let newRecentlyTracks = [...newData.recently.tracks];\n\n    if (title == 'Recently played') {\n      const removedTrack = newRecentlyTracks.splice(idx, 1);\n      newRecentlyTracks = [removedTrack[0], ...newRecentlyTracks];\n    } else if (title == \"Tracks list\") {\n      const selectedTrackFromAll = this.state.data.all.tracks[idx];\n      newRecentlyTracks = [selectedTrackFromAll, ...newRecentlyTracks];\n    }\n\n    let newPlay = { ...this.state.play };\n\n    let isPlaying = true;\n    if (idx === 0 && title === \"Recently played\") {\n      isPlaying = !this.state.data.recently.isPlaying;\n    }\n\n    newPlay.section = title;\n    newPlay.idx = idx;\n    newPlay.active = isPlaying;\n\n    newRecentlyTracks = newRecentlyTracks.slice(0, 6);\n    newData.recently.tracks = newRecentlyTracks;\n    newData.recently.isPlaying = isPlaying;\n\n    this.setState({\n      play: newPlay,\n    }, () => {\n      console.log(this.state.play)\n    });\n\n\n    this.setState({\n      data: newData,\n    }, () => {\n      console.log(this.state.play)\n    });\n\n  }\n\n  render() {\n    return (\n      <>\n        <Aside action={this.handleAsideClick} />\n        <Header\n          page={this.state.currentPage}\n          title={this.state.currentPage}\n          action={this.handleSearch}\n        />\n        <Header faride={this.state.title} />\n        <Content\n          data_app={this.state.data}\n          scroll_app={this.loadMore}\n          playMusic_app={this.playMusic}\n          play_app={this.state.play}\n        />\n        <Footer data={this.state.track} />\n      </>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}